<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Container Extension Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Extension/Container" class="dashAnchor"></a>
    <a title="Container Extension Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">DatabaseKit Docs</a> (91% documented)</p>
        <p class="header-right"><a href="https://github.com/vapor/database-kit"><img src="../img/gh.png"/>View on GitHub</a></p>
        <p class="header-right"><a href="dash-feed://https%3A%2F%2Fapi%2Evapor%2Ecodes%2Fdatabase%2Dkit%2F1%2E0%2E0%2Drc%2E2%2E2%2E1%2FDatabaseKit%2Fdocsets%2FDatabaseKit%2Exml"><img src="../img/dash.png"/>Install in Dash</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">DatabaseKit Reference</a>
        <img id="carat" src="../img/carat.png" />
        Container Extension Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/DatabaseConnectionPool.html">DatabaseConnectionPool</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabaseKitProvider.html">DatabaseKitProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/DatabaseLogger.html">DatabaseLogger</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/MemoryKeyedCache.html">MemoryKeyedCache</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/Container.html">Container</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/SubContainer.html">SubContainer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/URL.html">URL</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/Database.html">Database</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseConnectable.html">DatabaseConnectable</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/DatabaseConnection.html">DatabaseConnection</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/KeyedCache.html">KeyedCache</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/LogSupporting.html">LogSupporting</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/DatabaseConfig.html">DatabaseConfig</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseConnectionPoolConfig.html">DatabaseConnectionPoolConfig</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseIdentifier.html">DatabaseIdentifier</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseKitError.html">DatabaseKitError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/DatabaseLog.html">DatabaseLog</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Databases.html">Databases</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>Container</h1>
            <p>Create connections that are automatically released when done.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11DatabaseKit14withConnectionXeXeF"></a>
                    <a name="//apple_ref/swift/Method/withConnection(to:closure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11DatabaseKit14withConnectionXeXeF">withConnection(to:closure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a future database connection for the
supplied database identifier if one can be fetched.
The database connection will be cached on this worker.
The same database connection will always be returned for
a given worker.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">withConnection</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">to</span> <span class="nv">database</span><span class="p">:</span> <span class="kt"><a href="../Structs/DatabaseIdentifier.html">DatabaseIdentifier</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span><span class="p">,</span>
    <span class="nv">closure</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">.</span><span class="kt">Connection</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/database-kit/tree/1.0.0-rc.2.2.1/Sources/DatabaseKit/Service/Container+Connection.swift#L11-L21">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11DatabaseKit17requestConnectionXeXeF"></a>
                    <a name="//apple_ref/swift/Method/requestConnection(to:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11DatabaseKit17requestConnectionXeXeF">requestConnection(to:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Requests a connection to the database.</p>

<p>Call <code><a href="../Extensions/Container.html#/s:11DatabaseKit17releaseConnectionXeXeF">.releaseConnection(_:to:)</a></code> on the connection when you are finished.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">requestConnection</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">to</span> <span class="nv">database</span><span class="p">:</span> <span class="kt"><a href="../Structs/DatabaseIdentifier.html">DatabaseIdentifier</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">.</span><span class="kt">Connection</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/database-kit/tree/1.0.0-rc.2.2.1/Sources/DatabaseKit/Service/Container+Connection.swift#L29-L41">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11DatabaseKit17releaseConnectionXeXeF"></a>
                    <a name="//apple_ref/swift/Method/releaseConnection(_:to:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11DatabaseKit17releaseConnectionXeXeF">releaseConnection(_:to:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Releases a connection created by <code><a href="../Extensions/Container.html#/s:11DatabaseKit17requestConnectionXeXeF">.requestConnection(to:)</a></code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">releaseConnection</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">conn</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">.</span><span class="kt">Connection</span><span class="p">,</span>
    <span class="n">to</span> <span class="nv">database</span><span class="p">:</span> <span class="kt"><a href="../Structs/DatabaseIdentifier.html">DatabaseIdentifier</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span>
<span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/database-kit/tree/1.0.0-rc.2.2.1/Sources/DatabaseKit/Service/Container+Connection.swift#L44-L49">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11DatabaseKit20withPooledConnectionXeXeF"></a>
                    <a name="//apple_ref/swift/Method/withPooledConnection(to:closure:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11DatabaseKit20withPooledConnectionXeXeF">withPooledConnection(to:closure:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns a future database connection for the
supplied database identifier if one can be fetched.
The database connection will be cached on this worker.
The same database connection will always be returned for
a given worker.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">withPooledConnection</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="p">,</span> <span class="kt">T</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">to</span> <span class="nv">database</span><span class="p">:</span> <span class="kt"><a href="../Structs/DatabaseIdentifier.html">DatabaseIdentifier</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span><span class="p">,</span>
    <span class="nv">closure</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">.</span><span class="kt">Connection</span><span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt">T</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/database-kit/tree/1.0.0-rc.2.2.1/Sources/DatabaseKit/Service/Container+ConnectionPool.swift#L11-L21">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11DatabaseKit23requestPooledConnectionXeXeF"></a>
                    <a name="//apple_ref/swift/Method/requestPooledConnection(to:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11DatabaseKit23requestPooledConnectionXeXeF">requestPooledConnection(to:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Requests a connection to the database.</p>

<p>You must be sure to call <code><a href="../Extensions/Container.html#/s:11DatabaseKit23releasePooledConnectionXeXeF">.releasePooledConnection(_:to:)</a></code> with
the requested connection when you are finished using it.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">requestPooledConnection</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">to</span> <span class="nv">database</span><span class="p">:</span> <span class="kt"><a href="../Structs/DatabaseIdentifier.html">DatabaseIdentifier</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Future</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">.</span><span class="kt">Connection</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/database-kit/tree/1.0.0-rc.2.2.1/Sources/DatabaseKit/Service/Container+ConnectionPool.swift#L30-L37">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11DatabaseKit23releasePooledConnectionXeXeF"></a>
                    <a name="//apple_ref/swift/Method/releasePooledConnection(_:to:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11DatabaseKit23releasePooledConnectionXeXeF">releasePooledConnection(_:to:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Releases a connection back to the pool.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">releasePooledConnection</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">conn</span><span class="p">:</span> <span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">.</span><span class="kt">Connection</span><span class="p">,</span>
    <span class="n">to</span> <span class="nv">database</span><span class="p">:</span> <span class="kt"><a href="../Structs/DatabaseIdentifier.html">DatabaseIdentifier</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span>
<span class="p">)</span> <span class="k">throws</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/database-kit/tree/1.0.0-rc.2.2.1/Sources/DatabaseKit/Service/Container+ConnectionPool.swift#L40-L47">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:11DatabaseKit14connectionPoolXeXeF"></a>
                    <a name="//apple_ref/swift/Method/connectionPool(to:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:11DatabaseKit14connectionPoolXeXeF">connectionPool(to:)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Creates a <code><a href="../Classes/DatabaseConnectionPool.html">DatabaseConnectionPool</a></code> for the supplied Database identifier.
Subsequent calls to this method will always return the same pool.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">connectionPool</span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span><span class="p">(</span>
    <span class="n">to</span> <span class="nv">database</span><span class="p">:</span> <span class="kt"><a href="../Structs/DatabaseIdentifier.html">DatabaseIdentifier</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span>
<span class="p">)</span> <span class="k">throws</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Classes/DatabaseConnectionPool.html">DatabaseConnectionPool</a></span><span class="o">&lt;</span><span class="kt"><a href="../Protocols/Database.html">Database</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div class="slightly-smaller">
                        <a href="https://github.com/vapor/database-kit/tree/1.0.0-rc.2.2.1/Sources/DatabaseKit/Service/Container+ConnectionPool.swift#L55-L60">Show on GitHub</a>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2018 <a class="link" href="https://vapor.codes" target="_blank" rel="external">Vapor</a>. All rights reserved. (Last updated: 2018-03-29)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.1</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
